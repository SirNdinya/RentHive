{% extends 'property/base_property.html' %}

{% block content %}

  <h1>Available Properties</h1>
   <div style="display: flex; gap: 20px; margin-bottom: 20px;">
    <a href="{% url 'property_create' %}">Add New Property</a>
    <a href="{% url 'listing_add' %}">Add New Listing</a>
</div>



<!-- Dynamically add the 'single-property' class if there is only one property -->
<div class="property-list {% if properties.count == 1 %}single-property{% endif %}">
  {% for property in properties %}
    <div class="property-item">
      <!-- Property Image Container -->
      <div class="property-image-container">
        <img src="{{ property.image.url }}" alt="{{ property.name }}" class="property-img">
      </div>

      <!-- Property Details -->
      <div class="property-details">
        <h3>{{ property.name }}</h3>
        <p><strong>University Location:</strong> {{ property.location }}</p>
        <p><strong>Area:</strong> {{ property.area }}</p>
        <p><strong>Plot Description:</strong> {{ property.description|truncatewords:20 }}</p>
        <p><strong>Status:</strong> {{ property.get_status_display }}</p>
<button onclick="window.location.href='{% url 'property_listings' property.id %}';">View Listings</button>

</button>


      </div>
    </div>
  {% endfor %}
</div>
{% endblock %}